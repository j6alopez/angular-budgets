@if (containsBudgets()) {
<section class="row w-75 mx-auto">
  <hr class="my-5">
  <div class="col-12">
    <div class="row d-flex justify-content-end">
      <div class="col-auto d-flex align-items-center ">
        <input #searchName type="text" class="form-control position-relative"
          (keyup)="onSearchNameKeyUp(searchName.value)"
        >
        <i class="bi bi-search"></i>
      </div>
      <div class="col-auto">
        <button class="btn" 
        (click)="sortByField('createdOn')"
        >Data
        <i class="bi bi-arrow-up"></i>
      </button>
      </div>
      <div class="col-auto">
        <button class="btn" 
          (click)="sortByField('totalCost')"
        > Import</button>
      </div>
      <div class="col-auto ">
        <button class="btn" 
          (click)="sortByField('name')"
        > Nom</button>
      </div>
  </div>
  @for (budget of budgets; track $index) {
  <div class="row card d-flex flex-row align-items-center rounded-3 shadow mx-auto mt-5 p-4">
    <div class="col">
      <div class="row">
        <div class="col-4">
          <h4>{{ budget.name | titlecase }}</h4>
        </div>
        <div class="col-4">
          <p class="fw-bold ">Serveis Contractats:</p>
        </div>
        <div class="col-4 d-flex justify-content-end">
          <p class="custom-font-color fw-bold ">Total:</p>
        </div>
      </div>
      <div class="row">
        <div class="col-4">
          <ul class="no-bullets custom-font-color ">
            <li>{{ budget.email }}</li>
            <li>{{ budget.telephone }}</li>
          </ul>
        </div>
        <div class="col-4">
          <ul>
            @for (item of budget.items; track $index) {
            <li>{{ item.title }}</li>
            }
          </ul>
        </div>
        <div class="col-4 d-flex justify-content-end ">
          <h4 class="">{{ budget.totalCost | currency:'EUR':'symbol-narrow':'1.0-0' }}</h4>
        </div>
      </div>
    </div>
  </div>
  }
  </div>
</section>
}
